Version 4
SHEET 1 880 680
WIRE -16 160 -32 160
WIRE 16 160 -16 160
WIRE 144 160 80 160
WIRE 208 160 144 160
WIRE 224 160 208 160
WIRE -32 176 -32 160
WIRE 208 320 208 160
WIRE 224 320 208 320
FLAG 48 176 0
FLAG 368 160 out
FLAG -16 160 clk
FLAG 144 160 val[15:0]
FLAG -32 256 0
FLAG 240 240 0
FLAG 400 240 expected
FLAG 368 320 out2
FLAG 240 400 0
FLAG 320 400 expected2
SYMBOL voltage -32 160 M0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 10u 100n 100n 10u 20u)
SYMATTR InstName V1
SYMBOL bv 336 240 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
SYMATTR InstName B1
SYMATTR Value V=128*V(val[7])+64*V(val[6])+32*V(val[5])+16*V(val[4])+8*V(val[3])+4*V(val[2])+2*V(val[1])+V(val[0])
SYMBOL bv 336 400 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
SYMATTR InstName B2
SYMATTR Value V=V(expected)*1.25/65536
SYMBOL up_16bitcounter 48 160 R0
SYMATTR InstName X2
SYMBOL dac-16bit-fast 288 160 R0
SYMATTR InstName X1
SYMBOL dac-16bit-fast 288 320 R0
WINDOW 39 72 45 Bottom 2
SYMATTR SpiceLine ref=1.25
SYMATTR InstName X3
SYMBOL bv 416 240 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 Invisible 2
SYMATTR InstName B3
SYMATTR Value V=256*(128*V(val[15])+64*V(val[14])+32*V(val[13])+16*V(val[12])+8*V(val[11])+4*V(val[10])+2*V(val[9])+V(val[8]))
TEXT 64 304 Left 2 !.tran 1.35
